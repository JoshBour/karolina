function addMessage(a){var b=$(".flash");b.is(":visible")?b.html(a):b=$("<div></div>",{"class":"flash",text:a,css:{display:"none"}}).prependTo("body").slideDown("slow"),b.setRemoveTimeout(5e3)}var delay=function(){var a=0;return function(b,c){clearTimeout(a),a=setTimeout(b,c)}}();!function(a){a.fn.setRemoveTimeout=function(b){var c=a(this);return c.length>0&&setTimeout(function(){a(c).slideUp("slow",function(){a(this).detach()})},b),c}}(jQuery),function(a){a.fn.focusLight=function(){var b=a(this);return a("<div />",{id:"shadow"}).appendTo("body"),b.addClass("focused"),b}}(jQuery),function(a){a.fn.unfocusLight=function(){var b=a(this);return a("#shadow").detach(),b.removeClass("focused"),b}}(jQuery),$(function(){var a=$(".flash");a.is(":visible")&&a.setRemoveTimeout(5e3);$(".tableWrapper").betterTable({unsortableCells:[0,13],hiddenCells:[0],tableName:"Users",lengthMenu:[1,5,7,10,20,30,-1],defaultLength:10,columnNumber:50});$(".formWrapper textarea").ckeditor({customConfig:betterTableUrl+"/custom-config.js"}),$(".formWrapper .element select").each(function(){var a=$(this);a.hasClass("joinList")||a.selectBox()});var b=$("#galleryForm");if(b.length>0){var c=new TableJoin($(".joinSelect"));b.on("submit",function(a){var d=c.getEncodedAttributes(),e=b.children('input[name="gallery[images]"]');e.length<=0&&(e=$("<input />",{name:"gallery[images]"}).hide().appendTo(b)),e.val(d)})}});