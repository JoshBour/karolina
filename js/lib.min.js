function addMessage(e){var n=$(".flash");n.is(":visible")?n.html(e):n=$("<div></div>",{"class":"flash",text:e,css:{display:"none"}}).prependTo("body").slideDown("slow"),n.setRemoveTimeout(5e3)}var delay=function(){var e=0;return function(n,t){clearTimeout(e),e=setTimeout(n,t)}}();!function(e){e.fn.setRemoveTimeout=function(n){var t=e(this);return t.length>0&&setTimeout(function(){e(t).slideUp("slow",function(){e(this).detach()})},n),t}}(jQuery),function(e){e.fn.focusLight=function(){var n=e(this);return e("<div />",{id:"shadow"}).appendTo("body"),n.addClass("focused"),n}}(jQuery),function(e){e.fn.unfocusLight=function(){var n=e(this);return e("#shadow").detach(),n.removeClass("focused"),n}}(jQuery);